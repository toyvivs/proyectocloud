<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CONTROL DE ACCESO</title>
<style>
/* Tu CSS aqu√≠ (sin cambios) */
</style>
</head>
<body>
<div class="container">
  <h1>BIENVENIDO</h1>
  <p>Por favor, seleccione la zona a la que desea acceder:</p>

  <div class="zone-grid">
    <div class="zone-card" onclick="selectZone('almacen')">
      <span class="zone-icon">üì¶</span>
      <h2>Almac√©n</h2>
      <p>Acceso a la zona de inventario y mercanc√≠as.</p>
    </div>
    <div class="zone-card" onclick="selectZone('oficina')">
      <span class="zone-icon">üè¢</span>
      <h2>Oficina</h2>
      <p>√Årea de trabajo para el personal administrativo.</p>
    </div>
    <div class="zone-card" onclick="selectZone('mostrador')">
      <span class="zone-icon">üõí</span>
      <h2>Mostrador</h2>
      <p>Zona de atenci√≥n al cliente y ventas.</p>
    </div>
  </div>
</div>

<div id="registros"></div>

<script>
function selectZone(zone) {
  localStorage.setItem('selectedZone', zone);
  window.location.href = 'rfid-reader.html';
}
</script>

<!-- Carga Firebase con compat -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  // Configuraci√≥n Firebase (corrige el storageBucket si es necesario)
  const firebaseConfig = {
    apiKey: "AIzaSyAAsaf9Xqi1sMGUmC606xh-wFpOQr0UxKQ",
    authDomain: "database-72189.firebaseapp.com",
    databaseURL: "https://database-72189-default-rtdb.firebaseio.com",
    projectId: "database-72189",
    storageBucket: "database-72189.appspot.com",
    messagingSenderId: "444896561881",
    appId: "1:444896561881:web:1d51ab7cd3a8e9b0ca4cc8",
    measurementId: "G-0V5TV38RQS"
  };

  // Inicializar Firebase (modo compat)
  firebase.initializeApp(firebaseConfig);

  // Referencia a la base de datos
  const database = firebase.database();

  // Leer datos de /registros en tiempo real
  const registrosRef = database.ref('registros');
  registrosRef.on('value', (snapshot) => {
    const data = snapshot.val();
    const container = document.getElementById('registros');
    container.innerHTML = ''; // Limpiar contenedor

    if (data) {
      for (const uid in data) {
        const entry = data[uid];
        container.innerHTML += `<p><strong>${uid}</strong>: ${entry.mensaje} - ${entry.timestamp}</p>`;
      }
    } else {
      container.innerHTML = '<p>No hay registros.</p>';
    }
  });
</script>

</body>
</html>
